const workspaceFacility = [
    {
        "workspace_id": 1,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 1,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 2,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 2,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 2,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 2,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 3,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 4,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 5,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 5,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 5,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 5,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 6,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 6,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 7,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 7,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 7,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 7,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 8,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 8,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 8,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 9,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 9,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 9,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 10,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 11,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 12,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 12,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 13,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 14,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 14,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 14,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 15,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 16,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 16,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 16,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 17,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 17,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 18,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 18,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 19,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 19,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 19,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 20,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 20,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 21,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 21,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 21,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 22,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 22,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 23,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 23,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 24,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 24,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 24,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 25,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 25,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 25,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 26,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 26,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 27,
        "facility_id": 7,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 27,
        "facility_id": 6,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 27,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 28,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 29,
        "facility_id": 4,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 29,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "workspace_id": 30,
        "facility_id": 5,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    }
]
const propertyFacility = [
    {
        "property_id": 1,
        "facility_id": 1,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 1,
        "facility_id": 3,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 2,
        "facility_id": 1,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 2,
        "facility_id": 3,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 3,
        "facility_id": 2,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 3,
        "facility_id": 3,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 4,
        "facility_id": 1,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 4,
        "facility_id": 2,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 4,
        "facility_id": 3,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 5,
        "facility_id": 1,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 5,
        "facility_id": 2,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "property_id": 5,
        "facility_id": 3,
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    }
]
const facility = [
    {
        "facility_id": 1,
        "name": "Parking",
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "facility_id": 2,
        "name": "Public Transport",
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "facility_id": 3,
        "name": "WiFi",
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "facility_id": 4,
        "name": "Smoking",
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "facility_id": 5,
        "name": "Projector",
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "facility_id": 6,
        "name": "Microphone",
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
        "facility_id": 7,
        "name": "Whiteboard",
        "created_at": "2025-08-02T08:40:56.067478",
        "updated_at": "2025-08-02T08:40:56.067478"
    }
]
const property = [
    {
      "property_id": 1,
      "owner_id": 1,
      "name": "Property 1",
      "Address_line1": "101 Maple St",
      "city": "Calgary",
      "province": "Alberta",
      "postal_code": "T291A24",
      "total_area": 1000,
      "num_rooms": 4,
      "available": true,
      "created_at": "2025-08-02T08:40:56.067478",
      "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
      "property_id": 2,
      "owner_id": 2,
      "name": "Property 2",
      "Address_line1": "102 Maple St",
      "city": "Calgary",
      "province": "Alberta",
      "postal_code": "T213A45",
      "total_area": 2000,
      "num_rooms": 5,
      "available": true,
      "created_at": "2025-08-02T08:40:56.067478",
      "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
      "property_id": 3,
      "owner_id": 3,
      "name": "Property 3",
      "Address_line1": "103 Maple St",
      "city": "Calgary",
      "province": "Alberta",
      "postal_code": "T241A38",
      "total_area": 3000,
      "num_rooms": 6,
      "available": true,
      "created_at": "2025-08-02T08:40:56.067478",
      "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
      "property_id": 4,
      "owner_id": 4,
      "name": "Property 4",
      "Address_line1": "104 Maple St",
      "city": "Calgary",
      "province": "Alberta",
      "postal_code": "T227A23",
      "total_area": 4000,
      "num_rooms": 7,
      "available": true,
      "created_at": "2025-08-02T08:40:56.067478",
      "updated_at": "2025-08-02T08:40:56.067478"
    },
    {
      "property_id": 5,
      "owner_id": 5,
      "name": "Property 5",
      "Address_line1": "105 Maple St",
      "city": "Calgary",
      "province": "Alberta",
      "postal_code": "T296A79",
      "total_area": 5000,
      "num_rooms": 8,
      "available": true,
      "created_at": "2025-08-02T08:40:56.067478",
      "updated_at": "2025-08-02T08:40:56.067478"
    }
]
const workspace = [
  {
    "workspace_id": 1,
    "property_id": 1,
    "name": "Workspace 1",
    "size": 30,
    "capacity": 3,
    "rate": 65,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 1 is a stylish private room accommodating up to 3 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 39,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 2,
    "property_id": 1,
    "name": "Workspace 2",
    "size": 70,
    "capacity": 7,
    "rate": 85,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 2 is a stylish private room accommodating up to 7 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 23,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 3,
    "property_id": 1,
    "name": "Workspace 3",
    "size": 20,
    "capacity": 2,
    "rate": 60,
    "pictures": [
      "./pictures/BigWorkspace1.png",
      "./pictures/BigWorkspace2.png",
      "./pictures/BigWorkspace3.png"
    ],
    "description": "Workspace 3 is a stylish private room accommodating up to 2 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 36,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 8
  },
  {
    "workspace_id": 4,
    "property_id": 1,
    "name": "Workspace 4",
    "size": 50,
    "capacity": 5,
    "rate": 75,
    "pictures": [
      "./pictures/OpenWorkspace1.png",
      "./pictures/OpenWorkspace2.png",
      "./pictures/OpenWorkspace3.png"
    ],
    "description": "Workspace 4 is a stylish private room accommodating up to 5 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 12,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 8
  },
  {
    "workspace_id": 5,
    "property_id": 2,
    "name": "Workspace 5",
    "size": 90,
    "capacity": 9,
    "rate": 95,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 5 is a stylish private room accommodating up to 9 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 45,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 2
  },
  {
    "workspace_id": 6,
    "property_id": 2,
    "name": "Workspace 6",
    "size": 20,
    "capacity": 2,
    "rate": 60,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 6 is a stylish private room accommodating up to 2 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 4,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 7,
    "property_id": 2,
    "name": "Workspace 7",
    "size": 40,
    "capacity": 4,
    "rate": 70,
    "pictures": [
      "./pictures/BigWorkspace1.png",
      "./pictures/BigWorkspace2.png",
      "./pictures/BigWorkspace3.png"
    ],
    "description": "Workspace 7 is a stylish private room accommodating up to 4 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 2,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 8,
    "property_id": 2,
    "name": "Workspace 8",
    "size": 110,
    "capacity": 11,
    "rate": 105,
    "pictures": [
      "./pictures/OpenWorkspace1.png",
      "./pictures/OpenWorkspace2.png",
      "./pictures/OpenWorkspace3.png"
    ],
    "description": "Workspace 8 is an expansive open area designed to host up to 11 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 42,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 9,
    "property_id": 2,
    "name": "Workspace 9",
    "size": 90,
    "capacity": 9,
    "rate": 95,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 9 is a stylish private room accommodating up to 9 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 14,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 10,
    "property_id": 3,
    "name": "Workspace 10",
    "size": 50,
    "capacity": 5,
    "rate": 75,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 10 is a stylish private room accommodating up to 5 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 49,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 11,
    "property_id": 3,
    "name": "Workspace 11",
    "size": 100,
    "capacity": 10,
    "rate": 100,
    "pictures": [
      "./pictures/BigWorkspace1.png",
      "./pictures/BigWorkspace2.png",
      "./pictures/BigWorkspace3.png"
    ],
    "description": "Workspace 11 is a stylish private room accommodating up to 10 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 18,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 12,
    "property_id": 3,
    "name": "Workspace 12",
    "size": 130,
    "capacity": 13,
    "rate": 115,
    "pictures": [
      "./pictures/OpenWorkspace1.png",
      "./pictures/OpenWorkspace2.png",
      "./pictures/OpenWorkspace3.png"
    ],
    "description": "Workspace 12 is an expansive open area designed to host up to 13 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 5,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 13,
    "property_id": 3,
    "name": "Workspace 13",
    "size": 20,
    "capacity": 2,
    "rate": 60,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 13 is a stylish private room accommodating up to 2 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 14,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 8
  },
  {
    "workspace_id": 14,
    "property_id": 3,
    "name": "Workspace 14",
    "size": 130,
    "capacity": 13,
    "rate": 115,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 14 is an expansive open area designed to host up to 13 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 6,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 8
  },
  {
    "workspace_id": 15,
    "property_id": 3,
    "name": "Workspace 15",
    "size": 110,
    "capacity": 11,
    "rate": 105,
    "pictures": [
      "./pictures/BigWorkspace1.png",
      "./pictures/BigWorkspace2.png",
      "./pictures/BigWorkspace3.png"
    ],
    "description": "Workspace 15 is an expansive open area designed to host up to 11 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 24,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 2
  },
  {
    "workspace_id": 16,
    "property_id": 4,
    "name": "Workspace 16",
    "size": 60,
    "capacity": 6,
    "rate": 80,
    "pictures": [
      "./pictures/OpenWorkspace1.png",
      "./pictures/OpenWorkspace2.png",
      "./pictures/OpenWorkspace3.png"
    ],
    "description": "Workspace 16 is a stylish private room accommodating up to 6 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 17,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 17,
    "property_id": 4,
    "name": "Workspace 17",
    "size": 40,
    "capacity": 4,
    "rate": 70,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 17 is a stylish private room accommodating up to 4 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 29,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 18,
    "property_id": 4,
    "name": "Workspace 18",
    "size": 150,
    "capacity": 15,
    "rate": 125,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 18 is an expansive open area designed to host up to 15 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 40,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 19,
    "property_id": 4,
    "name": "Workspace 19",
    "size": 60,
    "capacity": 6,
    "rate": 80,
    "pictures": [
      "./pictures/BigWorkspace1.png",
      "./pictures/BigWorkspace2.png",
      "./pictures/BigWorkspace3.png"
    ],
    "description": "Workspace 19 is a stylish private room accommodating up to 6 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 23,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 20,
    "property_id": 4,
    "name": "Workspace 20",
    "size": 30,
    "capacity": 3,
    "rate": 65,
    "pictures": [
      "./pictures/OpenWorkspace1.png",
      "./pictures/OpenWorkspace2.png",
      "./pictures/OpenWorkspace3.png"
    ],
    "description": "Workspace 20 is a stylish private room accommodating up to 3 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 10,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 2
  },
  {
    "workspace_id": 21,
    "property_id": 4,
    "name": "Workspace 21",
    "size": 30,
    "capacity": 3,
    "rate": 65,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 21 is a stylish private room accommodating up to 3 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 23,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 2
  },
  {
    "workspace_id": 22,
    "property_id": 4,
    "name": "Workspace 22",
    "size": 130,
    "capacity": 13,
    "rate": 115,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 22 is an expansive open area designed to host up to 13 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 22,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 2
  },
  {
    "workspace_id": 23,
    "property_id": 5,
    "name": "Workspace 23",
    "size": 100,
    "capacity": 10,
    "rate": 100,
    "pictures": [
      "./pictures/BigWorkspace1.png",
      "./pictures/BigWorkspace2.png",
      "./pictures/BigWorkspace3.png"
    ],
    "description": "Workspace 23 is a stylish private room accommodating up to 10 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 13,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 24,
    "property_id": 5,
    "name": "Workspace 24",
    "size": 130,
    "capacity": 13,
    "rate": 115,
    "pictures": [
      "./pictures/OpenWorkspace1.png",
      "./pictures/OpenWorkspace2.png",
      "./pictures/OpenWorkspace3.png"
    ],
    "description": "Workspace 24 is an expansive open area designed to host up to 13 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 42,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 1
  },
  {
    "workspace_id": 25,
    "property_id": 5,
    "name": "Workspace 25",
    "size": 120,
    "capacity": 12,
    "rate": 110,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 25 is an expansive open area designed to host up to 12 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 17,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 2
  },
  {
    "workspace_id": 26,
    "property_id": 5,
    "name": "Workspace 26",
    "size": 90,
    "capacity": 9,
    "rate": 95,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 26 is a stylish private room accommodating up to 9 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 44,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 27,
    "property_id": 5,
    "name": "Workspace 27",
    "size": 150,
    "capacity": 15,
    "rate": 125,
    "pictures": [
      "./pictures/BigWorkspace1.png",
      "./pictures/BigWorkspace2.png",
      "./pictures/BigWorkspace3.png"
    ],
    "description": "Workspace 27 is an expansive open area designed to host up to 15 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 43,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 8
  },
  {
    "workspace_id": 28,
    "property_id": 5,
    "name": "Workspace 28",
    "size": 70,
    "capacity": 7,
    "rate": 85,
    "pictures": [
      "./pictures/OpenWorkspace1.png",
      "./pictures/OpenWorkspace2.png",
      "./pictures/OpenWorkspace3.png"
    ],
    "description": "Workspace 28 is a stylish private room accommodating up to 7 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 41,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 2
  },
  {
    "workspace_id": 29,
    "property_id": 5,
    "name": "Workspace 29",
    "size": 90,
    "capacity": 9,
    "rate": 95,
    "pictures": [
      "./pictures/SmallWorkspace1.png",
      "./pictures/SmallWorkspace2.png",
      "./pictures/SmallWorkspace3.png"
    ],
    "description": "Workspace 29 is a stylish private room accommodating up to 9 people. It features plush ergonomic chairs arranged around a polished table, accent lighting that creates a focused ambiance, and fully soundproof walls. A high-resolution whiteboard and marker set spark creativity, while complimentary stationery and a mini refreshment station keep your team energized. Ideal for confidential meetings, brainstorming sessions, or focused individual work.",
    "available": true,
    "reviews": 4,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 4
  },
  {
    "workspace_id": 30,
    "property_id": 5,
    "name": "Workspace 30",
    "size": 130,
    "capacity": 13,
    "rate": 115,
    "pictures": [
      "./pictures/MedWorkspace1.png",
      "./pictures/MedWorkspace2.png",
      "./pictures/MedWorkspace3.png"
    ],
    "description": "Workspace 30 is an expansive open area designed to host up to 13 participants. Floor-to-ceiling windows flood the space with natural light, highlighting the sleek industrial-chic décor and polished concrete floors. Modular seating clusters encourage dynamic collaboration, while the built-in projector and surround-sound system delivers immersive presentations. This versatile venue is perfect for workshops, seminars, or creative hackathons.",
    "available": true,
    "reviews": 38,
    "created_at": "2025-08-02T08:40:56.067478",
    "updated_at": "2025-08-02T08:40:56.067478",
    "lease_period": 8
  }
]

document.addEventListener('DOMContentLoaded', () => {
    const workspaceMap = createWorkspaceMap(workspace);

    const propertyFacilityMap = createPropertyFacilityMap(propertyFacility);

    const workspaceFacilityMap = createWorkspaceFacilityMap(workspaceFacility);
    
    let cardParent = grabHtmlByID('content');
    let searchInput = grabHtmlByID(`search-input`);
    let seatInput = grabHtmlByID('seat-input');
    let publicTransportSelect = grabHtmlByID('public-transport-select');
    let smokingSelect = grabHtmlByID('smoking-select');
    let availableSelect = grabHtmlByID('available-select');
    let parkingSelect = grabHtmlByID('parking-select');
    let minPrice = grabHtmlByID('min-price');
    let maxPrice = grabHtmlByID('max-price');
    let minSize = grabHtmlByID('min-size');
    let maxSize = grabHtmlByID('max-size');
    let leaseSelect = grabHtmlByID('lease-select');
    const filterTab = document.querySelector('.filter-tab');

    buildCards(workspace, cardParent);

    function propertyFilter(properties,searchInput,checkedFacilities,propertyFacilityMap) {
        // 1) Text‐search
        const term = searchInput.trim().toLowerCase();
        //if searchInput is an empty string, return all properties, else match string with full address of each property and return only matches
        const matched = term === ''
            ? properties
            : properties.filter(p =>
                (`${p.Address_line1} ${p.city} ${p.province}`).toLowerCase().includes(term)
            );

        //if matched is an empty array, just return [];
        if(matched.length === 0){
            return [];
        }

        // Else, we extract just the IDs from the returned array
        const matchedIds = matched.map(p => p.property_id);

        // 2) Facility filter: if no checked boxes, return all matched IDs array
        if (!checkedFacilities.length) {
            return matchedIds;
        }

        //Build an array that contains a set of each property with a particular facility(in this case -- parking and publicTransport)
        const facilitySets = checkedFacilities.map(fid =>
            new Set(propertyFacilityMap.get(fid) || [])//fallback to empty array if key isn't in propertyFacilityMap
        );

        // Keep only IDs that appear in *every* facility set (intersection of both sets)
        return matchedIds.filter(id =>
            facilitySets.every(set => set.has(id))
        );
    }

    function createWorkspaceMap(workspaces){
        //we create a map of property -> workspaces
        const workspaceMap = new Map();

        workspaces.forEach(ws => {
            const key = ws.property_id
            //create map key if map doesn't have such key
            if(!workspaceMap.has(key)) {
                workspaceMap.set(key, [])
            }

            workspaceMap.get(key).push(ws)
        });

        return workspaceMap;
    }

    function createWorkspaceFacilityMap(workspaceFacility) {
        const workspaceFacilityMap = new Map();

        workspaceFacility.forEach(pf => {
            const key = pf.facility_id

            if(!workspaceFacilityMap.has(key)){
                workspaceFacilityMap.set(key, [])
            }

            workspaceFacilityMap.get(key).push(pf.workspace_id)
        });

        return workspaceFacilityMap;
    }

    function createPropertyFacilityMap(propertyFacility) {
        const propertyFaciltyMap = new Map();

        propertyFacility.forEach(pf => {
            const key = pf.facility_id

            if(!propertyFaciltyMap.has(key)){
                propertyFaciltyMap.set(key, [])
            }

            propertyFaciltyMap.get(key).push(pf.property_id)
        });

        return propertyFaciltyMap;
    }

    function getWorkspaceOfProperties(propertyIDs) {
        const matchedWorkspaces = [];

        propertyIDs.forEach(id => {
            const arr = workspaceMap.get(id) || [];
            // push each element from arr into matchedWorkspaces:
            matchedWorkspaces.push(...arr);
        });

        return matchedWorkspaces;
    }

    //for size and price
    function filterRange(data, min, max, property) {
        if(min === "") min = 0;
        if(max === "") max = Infinity;

        min = Number(min);
        max = Number(max);

        return data.filter(ws => {
            console.log(ws[property], min, max);
            return ws[property] >= min && ws[property] <= max 
        });
    }

    //for seats
    function filterValue(data, val, property) {
        //change input to number
        val = Number(val);

        return data.filter(ws => {
            return ws[property] >= val
        });
    }

    //for lease
    function filterDropDown(data, selectParent, property){
        if(selectParent.selectedIndex !== 0) {
            const selectedOption = selectParent.options[selectParent.selectedIndex];
            const minNumber = parseInt(selectedOption.dataset.min);
            const maxNumber = parseInt(selectedOption.dataset.max);

            return data.filter(ws => {
                return ws[property] >= minNumber && ws[property] <= maxNumber
            });
        }
        return data;
    }

    //for facilities
    function filterChecks(data, checkboxes){
        if(checkboxes.length !== 0){
            const facilitySets = checkboxes.map(fid => {
                new Set(workspaceFacilityMap.get(fid) || []);
            });
            return data.filter(ws => {
                return facilitySets.every(set => ws.workspace_id)
            });
        }
        return data
    }

    //filter workspaces
    function filterWorkspaces(workspaces, checkboxes){
        //filter price
        const filteredPrice = filterRange(workspaces, minPrice.value, maxPrice.value, 'rate')
        if(filteredPrice.length === 0) return[];

        //filter size
        const filteredSize = filterRange(filteredPrice, minSize.value, maxSize.value, 'size');
        if(filteredSize.length === 0) return[];

        //filter seats
        const filteredSeats = filterValue(filteredSize, seatInput.value, 'capacity');
        if(filteredSeats.length === 0) return [];

        //filter lease
        const filteredDD = filterDropDown(filteredSeats, leaseSelect, 'lease_period');
        if(filteredDD.length === 0) return [];

        //filter checks
        const filteredChecks = filterChecks(filteredDD, checkboxes);
        if(filteredChecks.length === 0) return [];

        //return last
        return filteredChecks;
    }


    function grabHtmlByID(id){
        return document.getElementById(id)
    }

    function buildCards(data, parent){
        parent.innerHTML = ``
        //no items match your search
        data.forEach(ws => {
            const workspaceProperty = property.find(p => p.property_id === ws.property_id);
            const div = document.createElement('div')
            div.classList.add('card');
            div.innerHTML =
            `
                <div class="card-image">
                    <img src=${ws.pictures[0]} alt="">
                </div>
                <div class="card-content">
                    <div class="content-part-1">
                        <div class="price-holder content-holder">
                            <p>$<span>${ws.rate}</span></p>
                            <span class="extra-text">per hour</span>
                        </div>
                        <div class="address-holder content-holder">
                            <p>${workspaceProperty.Address_line1}</p>
                            <span class="extra-text">${workspaceProperty.city}, ${workspaceProperty.province}, ${workspaceProperty.postal_code}</span>
                        </div>
                    </div>
                    <div class="content-part-2">
                        <div class="ws-desc">
                            <div class="ws-size">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <!-- square outline -->
                                    <rect x="3" y="3" width="18" height="18" />
                                    <!-- diagonal measurement arrow -->
                                    <path d="M7 17 L17 7" />
                                    <polyline points="14,7 17,7 17,10" />
                                    <polyline points="7,14 7,17 10,17" />
                                </svg>
                                <span><pre>${ws.size} </pre></span>
                                <span>sq ft</span>
                            </div>
                            <div class="ws-seats">
                                <svg width="18" height="18" viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="4">
                                    <circle cx="22" cy="20" r="8" />
                                    <circle cx="42" cy="20" r="8" />
                                    <rect x="14" y="36" width="36" height="16" rx="4" />
                                    <text x="50" y="60" fill="currentColor" font-size="12">#</text>
                                </svg>
                                <span>${ws.capacity}</span>
                                <span>seats</span>
                            </div>
                        </div>
                        <button class="rounded-button">
                            View Details
                        </button>
                    </div>
                </div>
            `
            parent.appendChild(div);
        })
    }

    filterTab.addEventListener('click', (e)=> {
        if(e.target.matches('#filter-btn')){
            const propertyCheckboxes = [];
            const workspaceCheckboxes = [];
            //check which checkboxes where checked
            if(parkingSelect.checked){
                propertyCheckboxes.push(1);
            }
            if(publicTransportSelect.checked){
                propertyCheckboxes.push(2);
            }
            if(smokingSelect.checked){
                workspaceCheckboxes.push(4);
            }
            //filter properties first
            const selectedProperties = propertyFilter(property, searchInput.value, propertyCheckboxes, propertyFacilityMap);
            //get all workspaces that are in those filtered properties
            const selectedWorkspaces = getWorkspaceOfProperties(selectedProperties);
            //filter workspaces
            const filteredWorkspaces = filterWorkspaces(selectedWorkspaces, workspaceCheckboxes);

            buildCards(filteredWorkspaces, cardParent);

            window.scrollTo({
                top: 0,
                left: 0,
                behavior: 'smooth' 
            });

            console.log(selectedProperties, selectedWorkspaces, filteredWorkspaces);
        }
    })

    console.log(propertyFacilityMap);
})

